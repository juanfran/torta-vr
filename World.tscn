[gd_scene load_steps=28 format=2]

[ext_resource path="res://map-items/Building.tscn" type="PackedScene" id=1]
[ext_resource path="res://addons/wahooney.itch.io/white_grid.png" type="Texture" id=2]
[ext_resource path="res://map-items/Bars.tscn" type="PackedScene" id=3]
[ext_resource path="res://map-items/Platforms.tscn" type="PackedScene" id=4]
[ext_resource path="res://map-items/Platform.tscn" type="PackedScene" id=5]
[ext_resource path="res://Checkpoint.tscn" type="PackedScene" id=6]
[ext_resource path="res://GameOver.gd" type="Script" id=7]
[ext_resource path="res://map-items/JumpPad.tscn" type="PackedScene" id=8]
[ext_resource path="res://map-items/Mountain.tscn" type="PackedScene" id=9]
[ext_resource path="res://addons/godot-xr-tools/overrides/GroundPhysics.gd" type="Script" id=10]
[ext_resource path="res://map-items/SkiSlopePhysics.tres" type="Resource" id=11]
[ext_resource path="res://map-items/Doors.tscn" type="PackedScene" id=12]
[ext_resource path="res://map-items/Sticks.tscn" type="PackedScene" id=13]
[ext_resource path="res://map-items/Floor.tscn" type="PackedScene" id=14]
[ext_resource path="res://map-items/Windmill.tscn" type="PackedScene" id=15]

[sub_resource type="ProceduralSky" id=5]
sky_top_color = Color( 0.211765, 0.313726, 0.552941, 1 )
sky_horizon_color = Color( 0.545098, 0.686275, 0.811765, 1 )
sky_curve = 0.13
ground_bottom_color = Color( 0.545098, 0.686275, 0.811765, 1 )
ground_horizon_color = Color( 0.545098, 0.686275, 0.811765, 1 )
sun_angle_max = 30.0
sun_energy = 30.0

[sub_resource type="Environment" id=6]
background_mode = 2
background_sky = SubResource( 5 )
ambient_light_color = Color( 0.5, 0.5, 0.5, 1 )
ambient_light_sky_contribution = 0.3

[sub_resource type="PlaneMesh" id=1]
size = Vector2( 20, 50 )

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 0.392157, 0.423529, 0.376471, 1 )
albedo_texture = ExtResource( 2 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 10, 1, 25 )

[sub_resource type="CubeMesh" id=11]
size = Vector3( 5, 0.5, 15 )

[sub_resource type="SpatialMaterial" id=8]
albedo_color = Color( 0.501961, 0.501961, 0.501961, 1 )
albedo_texture = ExtResource( 2 )

[sub_resource type="BoxShape" id=9]
extents = Vector3( 2.5, 0.25, 7.5 )

[sub_resource type="CubeMesh" id=13]

[sub_resource type="SpatialMaterial" id=14]
albedo_color = Color( 0.501961, 0.501961, 0.501961, 1 )
albedo_texture = ExtResource( 2 )

[sub_resource type="BoxShape" id=15]

[sub_resource type="BoxShape" id=12]
extents = Vector3( 2000, 1, 2000 )

[node name="World" type="Spatial"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 6 )

[node name="DirectionalLight" type="DirectionalLight" parent="WorldEnvironment"]
transform = Transform( -0.9186, -0.391065, -0.0569496, -0.339757, 0.707903, 0.619224, -0.201842, 0.588168, -0.783146, -48.1299, 71.659, -37.8822 )
light_energy = 1.7

[node name="Zone1" type="Spatial" parent="."]

[node name="Bars" parent="Zone1" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -18.9051, 8.99325, 11.3441 )

[node name="Building" parent="Zone1" instance=ExtResource( 1 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.987107, 0, 10.6614 )

[node name="Floor" type="StaticBody" parent="Zone1"]

[node name="MeshInstance" type="MeshInstance" parent="Zone1/Floor"]
mesh = SubResource( 1 )
material/0 = SubResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Zone1/Floor"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0 )
shape = SubResource( 2 )

[node name="PlayerPosition" type="Spatial" parent="Zone1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0956755, 0 )

[node name="Zone2" type="Spatial" parent="."]

[node name="Platforms" parent="Zone2" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -33.3943, 7.8888, 8.54926 )
rows = 5
columns = 6

[node name="Spatial" type="Spatial" parent="Zone2/Platforms"]

[node name="Platform" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]

[node name="Platform2" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8, 0, 0 )

[node name="Platform3" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6, 0, 0 )

[node name="Platform4" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4, 0, 0 )

[node name="Platform5" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2, 0, 0 )

[node name="Platform6" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 0 )

[node name="Platform7" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.8 )

[node name="Platform8" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8, 0, 1.8 )

[node name="Platform9" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6, 0, 1.8 )

[node name="Platform10" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4, 0, 1.8 )

[node name="Platform11" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2, 0, 1.8 )

[node name="Platform12" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 1.8 )

[node name="Platform13" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3.6 )

[node name="Platform14" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8, 0, 3.6 )

[node name="Platform15" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6, 0, 3.6 )

[node name="Platform16" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4, 0, 3.6 )

[node name="Platform17" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2, 0, 3.6 )

[node name="Platform18" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 3.6 )

[node name="Platform19" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5.4 )

[node name="Platform20" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8, 0, 5.4 )

[node name="Platform21" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6, 0, 5.4 )

[node name="Platform22" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4, 0, 5.4 )

[node name="Platform23" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2, 0, 5.4 )

[node name="Platform24" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 5.4 )

[node name="Platform25" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7.2 )

[node name="Platform26" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8, 0, 7.2 )

[node name="Platform27" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6, 0, 7.2 )

[node name="Platform28" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4, 0, 7.2 )

[node name="Platform29" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2, 0, 7.2 )

[node name="Platform30" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 7.2 )

[node name="Floor1" type="StaticBody" parent="Zone2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -21.2845, 7.98804, 12.2286 )

[node name="MeshInstance" type="MeshInstance" parent="Zone2/Floor1"]
mesh = SubResource( 11 )
material/0 = SubResource( 8 )

[node name="CollisionShape" type="CollisionShape" parent="Zone2/Floor1"]
shape = SubResource( 9 )

[node name="Checkpoint" parent="Zone2" instance=ExtResource( 6 )]
transform = Transform( -0.00960471, 0, 0.999954, 0, 1, 0, -2.22592, 0, -0.0213803, -19.7732, 9.25096, 12.0797 )

[node name="CollisionShape" parent="Zone2/Checkpoint" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, -3.72529e-09, 0, 1, 0, 0, 0 )

[node name="MeshInstance" parent="Zone2/Checkpoint" index="1"]
transform = Transform( 1, -9.31323e-10, -1.11022e-16, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, -0.229496, 0 )

[node name="Zone3" type="Spatial" parent="."]

[node name="JumpPad" parent="Zone3" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -36.4791, 8.24643, 11.5897 )

[node name="Floor" type="StaticBody" parent="Zone3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -36.4995, 7.98804, 12.2286 )

[node name="MeshInstance" type="MeshInstance" parent="Zone3/Floor"]
mesh = SubResource( 11 )
material/0 = SubResource( 8 )

[node name="CollisionShape" type="CollisionShape" parent="Zone3/Floor"]
shape = SubResource( 9 )

[node name="Checkpoint" parent="Zone3" instance=ExtResource( 6 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -4.60998, 0, -2.01508e-07, -35.0265, 8.96518, 12.1607 )

[node name="Mountain" parent="Zone3" instance=ExtResource( 9 )]
transform = Transform( 5, 0, 0, 0, 10, 0, 0, 0, 10, -49.2353, 11.3393, 12.2626 )

[node name="Checkpoint2" parent="Zone3" instance=ExtResource( 6 )]
transform = Transform( 3, 0, 0, 0, 1, 0, 0, 0, 10, -47.2163, 22.3584, 12.4211 )

[node name="Zone4" type="Spatial" parent="."]

[node name="StaticBody" type="StaticBody" parent="Zone4"]
transform = Transform( 2.81677, 20.6554, 0, -4.13108, 14.0838, 0, 0, 0, 10, -71.4846, 3.03516, 12.266 )

[node name="MeshInstance" type="MeshInstance" parent="Zone4/StaticBody"]
mesh = SubResource( 13 )
skeleton = NodePath("../..")
material/0 = SubResource( 14 )

[node name="CollisionShape" type="CollisionShape" parent="Zone4/StaticBody"]
shape = SubResource( 15 )

[node name="GroundPhysics" type="Node" parent="Zone4/StaticBody"]
script = ExtResource( 10 )
physics = ExtResource( 11 )

[node name="Doors" parent="Zone4" instance=ExtResource( 12 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -102.83, -12.4884, 12.3434 )

[node name="Checkpoint" parent="Zone4" instance=ExtResource( 6 )]
transform = Transform( 2.10569, 0, 0, 0, 1, 0, 0, 0, 3.2311, -102.932, -6.481, 12.3211 )

[node name="Zone5" type="Spatial" parent="."]

[node name="Sticks" parent="Zone5" instance=ExtResource( 13 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -113.067, -7.35351, 10.1679 )
speed = 1.2

[node name="Sticks3" parent="Zone5" instance=ExtResource( 13 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -133.869, -7.35351, 10.1679 )
speed = 1.6

[node name="Sticks2" parent="Zone5" instance=ExtResource( 13 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -123.829, -7.35351, 15.0869 )
speed = 0.6

[node name="Floor" parent="Zone5" instance=ExtResource( 14 )]
transform = Transform( 25, 0, 0, 0, 0.2, 0, 0, 0, 1, -129.935, -7.6991, 12.5097 )

[node name="Windmill" parent="Zone5" instance=ExtResource( 15 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -142.782, -3.09775, 12.5083 )
speed = 1.0

[node name="Windmill2" parent="Zone5" instance=ExtResource( 15 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -149.013, -3.09775, 12.5083 )
speed = 2.0

[node name="Zone6" type="Spatial" parent="."]

[node name="Floor" parent="Zone6" instance=ExtResource( 14 )]
transform = Transform( 2.06999, 0, 0, 0, 0.2, 0, 0, 0, 2.7462, -156.987, -7.45095, 12.362 )

[node name="Checkpoint" parent="Zone6" instance=ExtResource( 6 )]
transform = Transform( 1.499, 0, 0, 0, 1, 0, 0, 0, 2.71736, -156.422, -6.48606, 12.4297 )

[node name="GameOver" type="Area" parent="."]
script = ExtResource( 7 )

[node name="CollisionShape" type="CollisionShape" parent="GameOver"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -43.4579, 0 )
shape = SubResource( 12 )

[connection signal="body_shape_entered" from="GameOver" to="GameOver" method="_on_GameOver_body_shape_entered"]

[editable path="Zone2/Checkpoint"]
