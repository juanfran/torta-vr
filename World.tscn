[gd_scene load_steps=38 format=2]

[ext_resource path="res://map-items/Building.tscn" type="PackedScene" id=1]
[ext_resource path="res://addons/wahooney.itch.io/white_grid.png" type="Texture" id=2]
[ext_resource path="res://map-items/Bars.tscn" type="PackedScene" id=3]
[ext_resource path="res://map-items/Platforms.tscn" type="PackedScene" id=4]
[ext_resource path="res://map-items/Platform.tscn" type="PackedScene" id=5]
[ext_resource path="res://Checkpoint.tscn" type="PackedScene" id=6]
[ext_resource path="res://GameOver.gd" type="Script" id=7]
[ext_resource path="res://map-items/JumpPad.tscn" type="PackedScene" id=8]
[ext_resource path="res://map-items/Mountain.tscn" type="PackedScene" id=9]
[ext_resource path="res://addons/godot-xr-tools/overrides/GroundPhysics.gd" type="Script" id=10]
[ext_resource path="res://map-items/SkiSlopePhysics.tres" type="Resource" id=11]
[ext_resource path="res://map-items/Doors.tscn" type="PackedScene" id=12]
[ext_resource path="res://map-items/Sticks.tscn" type="PackedScene" id=13]
[ext_resource path="res://map-items/Floor.tscn" type="PackedScene" id=14]
[ext_resource path="res://map-items/Windmill.tscn" type="PackedScene" id=15]
[ext_resource path="res://map-items/WallZone.tscn" type="PackedScene" id=16]
[ext_resource path="res://map-items/WindmillPlatform.tscn" type="PackedScene" id=17]
[ext_resource path="res://addons/cloud/Cloud.tscn" type="PackedScene" id=18]
[ext_resource path="res://addons/cloud/Cloud.shader" type="Shader" id=19]

[sub_resource type="ProceduralSky" id=5]
sky_top_color = Color( 0.211765, 0.313726, 0.552941, 1 )
sky_horizon_color = Color( 0.545098, 0.686275, 0.811765, 1 )
sky_curve = 0.13
ground_bottom_color = Color( 0.545098, 0.686275, 0.811765, 1 )
ground_horizon_color = Color( 0.545098, 0.686275, 0.811765, 1 )
sun_angle_max = 30.0
sun_energy = 30.0

[sub_resource type="Environment" id=6]
background_mode = 2
background_sky = SubResource( 5 )
ambient_light_color = Color( 0.5, 0.5, 0.5, 1 )
ambient_light_sky_contribution = 0.3

[sub_resource type="PlaneMesh" id=1]
size = Vector2( 20, 50 )

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 0.392157, 0.423529, 0.376471, 1 )
albedo_texture = ExtResource( 2 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 10, 1, 25 )

[sub_resource type="CubeMesh" id=11]
size = Vector3( 5, 0.5, 15 )

[sub_resource type="SpatialMaterial" id=8]
albedo_color = Color( 0.501961, 0.501961, 0.501961, 1 )
albedo_texture = ExtResource( 2 )

[sub_resource type="BoxShape" id=9]
extents = Vector3( 2.5, 0.25, 7.5 )

[sub_resource type="CubeMesh" id=13]

[sub_resource type="SpatialMaterial" id=14]
albedo_color = Color( 0.501961, 0.501961, 0.501961, 1 )
albedo_texture = ExtResource( 2 )

[sub_resource type="BoxShape" id=15]

[sub_resource type="BoxShape" id=12]
extents = Vector3( 2000, 1, 2000 )

[sub_resource type="ShaderMaterial" id=16]
render_priority = -123
shader = ExtResource( 19 )
shader_param/seed = -10000.0
shader_param/speed = Vector2( 2, 0 )
shader_param/transform_speed = Vector2( 0, 1e-05 )
shader_param/min_density = 0.6
shader_param/max_density = 6.0
shader_param/altitude = 2000.0
shader_param/color = Color( 0.568627, 0.698039, 0.878431, 1 )
shader_param/detail_noise = true
shader_param/upper_enabled = false
shader_param/lower_enabled = true

[sub_resource type="ShaderMaterial" id=17]
render_priority = -124
next_pass = SubResource( 16 )
shader = ExtResource( 19 )
shader_param/seed = -10000.0
shader_param/speed = Vector2( 2, 0 )
shader_param/transform_speed = Vector2( 0, 1e-05 )
shader_param/min_density = 0.54219
shader_param/max_density = 8.89052
shader_param/altitude = 2031.2
shader_param/color = Color( 0.723921, 0.806745, 0.922196, 1 )
shader_param/detail_noise = false
shader_param/upper_enabled = false
shader_param/lower_enabled = true

[sub_resource type="ShaderMaterial" id=18]
render_priority = -125
next_pass = SubResource( 17 )
shader = ExtResource( 19 )
shader_param/seed = -10000.0
shader_param/speed = Vector2( 2, 0 )
shader_param/transform_speed = Vector2( 0, 1e-05 )
shader_param/min_density = 0.498681
shader_param/max_density = 11.066
shader_param/altitude = 2062.4
shader_param/color = Color( 0.844706, 0.891294, 0.956235, 1 )
shader_param/detail_noise = false
shader_param/upper_enabled = false
shader_param/lower_enabled = true

[sub_resource type="ShaderMaterial" id=19]
render_priority = -126
next_pass = SubResource( 18 )
shader = ExtResource( 19 )
shader_param/seed = -10000.0
shader_param/speed = Vector2( 2, 0 )
shader_param/transform_speed = Vector2( 0, 1e-05 )
shader_param/min_density = 0.480237
shader_param/max_density = 11.9882
shader_param/altitude = 2093.6
shader_param/color = Color( 0.93098, 0.951686, 0.980549, 1 )
shader_param/detail_noise = false
shader_param/upper_enabled = false
shader_param/lower_enabled = true

[sub_resource type="ShaderMaterial" id=20]
render_priority = -127
next_pass = SubResource( 19 )
shader = ExtResource( 19 )
shader_param/seed = -10000.0
shader_param/speed = Vector2( 2, 0 )
shader_param/transform_speed = Vector2( 0, 1e-05 )
shader_param/min_density = 0.491421
shader_param/max_density = 11.429
shader_param/altitude = 2124.8
shader_param/color = Color( 0.982745, 0.987922, 0.995137, 1 )
shader_param/detail_noise = false
shader_param/upper_enabled = false
shader_param/lower_enabled = true

[sub_resource type="ShaderMaterial" id=21]
render_priority = -128
next_pass = SubResource( 20 )
shader = ExtResource( 19 )
shader_param/seed = -10000.0
shader_param/speed = Vector2( 2, 0 )
shader_param/transform_speed = Vector2( 0, 1e-05 )
shader_param/min_density = 0.529466
shader_param/max_density = 9.52671
shader_param/altitude = 2156.0
shader_param/color = Color( 1, 1, 1, 1 )
shader_param/detail_noise = false
shader_param/upper_enabled = false
shader_param/lower_enabled = true

[node name="World" type="Spatial"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 6 )

[node name="DirectionalLight" type="DirectionalLight" parent="WorldEnvironment"]
transform = Transform( -0.9186, -0.391065, -0.0569496, -0.339757, 0.707903, 0.619224, -0.201842, 0.588168, -0.783146, -48.1299, 71.659, -37.8822 )
light_energy = 1.7

[node name="Zone1" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -30.9081 )

[node name="Bars" parent="Zone1" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -18.9051, 8.99325, 16.7284 )

[node name="Building" parent="Zone1" instance=ExtResource( 1 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.987107, 0, 10.6614 )

[node name="Floor" type="StaticBody" parent="Zone1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 0.15921, 0, 0, 14.6757 )

[node name="MeshInstance" type="MeshInstance" parent="Zone1/Floor"]
mesh = SubResource( 1 )
material/0 = SubResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Zone1/Floor"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0 )
shape = SubResource( 2 )

[node name="PlayerPosition" type="Spatial" parent="Zone1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.89346, 0.0956755, 13.0139 )

[node name="Zone2" type="Spatial" parent="."]

[node name="Platforms" parent="Zone2" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -33.3943, 7.8888, 8.54926 )
rows = 5
columns = 6

[node name="Spatial" type="Spatial" parent="Zone2/Platforms"]

[node name="Platform" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]

[node name="Platform2" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8, 0, 0 )

[node name="Platform3" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6, 0, 0 )

[node name="Platform4" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4, 0, 0 )

[node name="Platform5" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2, 0, 0 )

[node name="Platform6" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 0 )

[node name="Platform7" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.8 )

[node name="Platform8" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8, 0, 1.8 )

[node name="Platform9" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6, 0, 1.8 )

[node name="Platform10" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4, 0, 1.8 )

[node name="Platform11" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2, 0, 1.8 )

[node name="Platform12" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 1.8 )

[node name="Platform13" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3.6 )

[node name="Platform14" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8, 0, 3.6 )

[node name="Platform15" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6, 0, 3.6 )

[node name="Platform16" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4, 0, 3.6 )

[node name="Platform17" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2, 0, 3.6 )

[node name="Platform18" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 3.6 )

[node name="Platform19" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5.4 )

[node name="Platform20" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8, 0, 5.4 )

[node name="Platform21" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6, 0, 5.4 )

[node name="Platform22" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4, 0, 5.4 )

[node name="Platform23" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2, 0, 5.4 )

[node name="Platform24" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 5.4 )

[node name="Platform25" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7.2 )

[node name="Platform26" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8, 0, 7.2 )

[node name="Platform27" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6, 0, 7.2 )

[node name="Platform28" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4, 0, 7.2 )

[node name="Platform29" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2, 0, 7.2 )

[node name="Platform30" type="Spatial" parent="Zone2/Platforms/Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 7.2 )

[node name="Floor1" type="StaticBody" parent="Zone2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 2.03578, -21.2845, 7.98804, 0.962831 )

[node name="MeshInstance" type="MeshInstance" parent="Zone2/Floor1"]
mesh = SubResource( 11 )
material/0 = SubResource( 8 )

[node name="CollisionShape" type="CollisionShape" parent="Zone2/Floor1"]
shape = SubResource( 9 )

[node name="Checkpoint" parent="Zone2" instance=ExtResource( 6 )]
transform = Transform( -0.0196133, 0, 2.04195, 0, 1, 0, -4.61453, 0, -0.0443233, -21.4101, 9.25096, 11.4479 )

[node name="CollisionShape" parent="Zone2/Checkpoint" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, -3.72529e-09, 0, 1, 0, 0, 0 )

[node name="MeshInstance" parent="Zone2/Checkpoint" index="1"]
transform = Transform( 1, -9.31323e-10, -1.11022e-16, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, -0.229496, 0 )

[node name="Zone3" type="Spatial" parent="."]

[node name="JumpPad" parent="Zone3" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -36.4791, 8.24643, 11.5897 )

[node name="Floor" type="StaticBody" parent="Zone3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -36.4995, 7.98804, 12.2286 )

[node name="MeshInstance" type="MeshInstance" parent="Zone3/Floor"]
mesh = SubResource( 11 )
material/0 = SubResource( 8 )

[node name="CollisionShape" type="CollisionShape" parent="Zone3/Floor"]
shape = SubResource( 9 )

[node name="Checkpoint" parent="Zone3" instance=ExtResource( 6 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -4.60998, 0, -2.01508e-07, -35.0265, 8.96518, 12.1607 )

[node name="Mountain" parent="Zone3" instance=ExtResource( 9 )]
transform = Transform( 5, 0, 0, 0, 10, 0, 0, 0, 10, -49.2353, 11.3393, 12.2626 )

[node name="Checkpoint2" parent="Zone3" instance=ExtResource( 6 )]
transform = Transform( 3, 0, 0, 0, 1, 0, 0, 0, 10, -47.2163, 22.3584, 12.4211 )

[node name="Zone4" type="Spatial" parent="."]

[node name="StaticBody" type="StaticBody" parent="Zone4"]
transform = Transform( 2.81677, 20.6554, 0, -4.13108, 14.0838, 0, 0, 0, 10, -71.4846, 3.03516, 12.266 )

[node name="MeshInstance" type="MeshInstance" parent="Zone4/StaticBody"]
mesh = SubResource( 13 )
skeleton = NodePath("../..")
material/0 = SubResource( 14 )

[node name="CollisionShape" type="CollisionShape" parent="Zone4/StaticBody"]
shape = SubResource( 15 )

[node name="GroundPhysics" type="Node" parent="Zone4/StaticBody"]
script = ExtResource( 10 )
physics = ExtResource( 11 )

[node name="Doors" parent="Zone4" instance=ExtResource( 12 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -102.83, -12.4884, 12.3434 )

[node name="Checkpoint" parent="Zone4" instance=ExtResource( 6 )]
transform = Transform( 2.10569, 0, 0, 0, 1, 0, 0, 0, 3.2311, -102.932, -6.481, 12.3211 )

[node name="Zone5" type="Spatial" parent="."]

[node name="Sticks" parent="Zone5" instance=ExtResource( 13 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -113.067, -7.35351, 10.1679 )
speed = 1.2

[node name="Sticks3" parent="Zone5" instance=ExtResource( 13 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -133.869, -7.35351, 10.1679 )
speed = 1.6

[node name="Sticks2" parent="Zone5" instance=ExtResource( 13 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -123.829, -7.35351, 15.0869 )
speed = 0.6

[node name="Floor" parent="Zone5" instance=ExtResource( 14 )]
transform = Transform( 25, 0, 0, 0, 0.2, 0, 0, 0, 1, -129.935, -7.6991, 12.5097 )

[node name="Windmill" parent="Zone5" instance=ExtResource( 15 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -142.782, -3.09775, 12.5083 )
speed = 1.0

[node name="Windmill2" parent="Zone5" instance=ExtResource( 15 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -149.013, -3.09775, 12.5083 )
speed = 2.0

[node name="Zone6" type="Spatial" parent="."]

[node name="Floor" parent="Zone6" instance=ExtResource( 14 )]
transform = Transform( 2.06999, 0, 0, 0, 0.2, 0, 0, 0, 2.7462, -156.987, -7.45095, 12.362 )

[node name="Checkpoint" parent="Zone6" instance=ExtResource( 6 )]
transform = Transform( 1.499, 0, 0, 0, 1, 0, 0, 0, 2.71736, -156.422, -6.48606, 12.4297 )

[node name="WallZone" parent="Zone6" instance=ExtResource( 16 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -169.039, -7.45416, 14.348 )

[node name="Checkpoint2" parent="Zone6" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -178.062, -6.33154, 12.5072 )

[node name="Zone7" type="Spatial" parent="."]

[node name="WindmillPlatform" parent="Zone7" instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -182.509, -7.60822, 12.6003 )
speed = 0.5

[node name="WindmillPlatform3" parent="Zone7" instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -193.763, -7.60822, 12.6003 )
speed = 0.5
sticks = true

[node name="WindmillPlatform2" parent="Zone7" instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -188.138, -7.60822, 9.26302 )
flip = true

[node name="WindmillPlatform4" parent="Zone7" instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -188.121, -7.60822, 15.8068 )

[node name="Floor" parent="Zone7" instance=ExtResource( 14 )]
transform = Transform( 2.94893, 0, 0, 0, 0.2, 0, 0, 0, 5.15629, -199.598, -7.49952, 12.8911 )

[node name="Checkpoint" parent="Zone7" instance=ExtResource( 6 )]
transform = Transform( 2.19668, 0, 0, 0, 1, 0, 0, 0, 5.51431, -198.861, -6.34678, 13.3151 )

[node name="GameOver" type="Area" parent="."]
script = ExtResource( 7 )

[node name="CollisionShape" type="CollisionShape" parent="GameOver"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -43.4579, 0 )
shape = SubResource( 12 )

[node name="Cloud" parent="." instance=ExtResource( 18 )]
transform = Transform( 212.656, 0, 0, 0, 71.957, 0, 0, 0, 73.2626, -44.5704, -31.6282, 0 )
material_override = SubResource( 21 )
cloud_upper_enabled = false
cloud_lower_enabled = true

[connection signal="body_shape_entered" from="GameOver" to="GameOver" method="_on_GameOver_body_shape_entered"]

[editable path="Zone2/Checkpoint"]
